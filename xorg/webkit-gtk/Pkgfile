# Description:
# URL:
# Maintainer:
# Depends on: cairo cmake gst-plugins-base gst-plugins-bad gtk2 gtk3 icu libgudev libsecret libsoup libwebp mesa openjpeg ruby sqlite which enchant geoclue gobject-introspection hicolor-icon-theme libnotify

name=webkit-gtk
version=2.26.1
release=1
source=(https://webkitgtk.org/releases/webkitgtk-$version.tar.xz)

build() {
	cd webkitgtk-$version

	mkdir -vp build
	cd        build

	cmake -DCMAKE_BUILD_TYPE=Release  \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_SKIP_RPATH=ON       \
		-DPORT=GTK                  \
		-DLIB_INSTALL_DIR=/usr/lib  \
		-DUSE_LIBHYPHEN=OFF         \
		-DENABLE_MINIBROWSER=ON     \
		-DUSE_WOFF2=OFF             \
		-DUSE_WPE_RENDERER=OFF      \
		-DENABLE_BUBBLEWRAP_SANDBOX=OFF \
		-Wno-dev -G Ninja ..
	ninja
	DESTDIR=$PKG ninja install
}
